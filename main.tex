\documentclass[12pt,a4paper]{report}

% ==========================================
%  Packages & Configuration
% ==========================================

% Encoding & Language
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{csquotes} 

% Typography & Fonts
\usepackage{palatino} % Uses Palatino font (more elegant than default)
\usepackage[scaled]{helvet} % Helvetica for sans-serif
\usepackage{courier} % Courier for code
\linespread{1.25} % Slightly more spacing for better readability

% Layout & Margins
\usepackage{geometry}
\geometry{
  top=3cm, bottom=3cm, 
  left=3cm, right=2.5cm
}

% Graphics & Figures
\usepackage{graphicx}
\graphicspath{{images/}} % Tells LaTeX to look in the images/ folder
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{font=small, labelfont=bf}

% Colors
\usepackage[table]{xcolor} % 'table' option required for \rowcolor
\definecolor{primaryColor}{RGB}{0, 51, 102} % Dark Blue
\definecolor{secondaryColor}{RGB}{50, 50, 50} % Dark Gray
\definecolor{accentColor}{RGB}{204, 0, 0} % Dark Red for emphasis

% Math & Code
\usepackage{amsmath, amssymb, amsfonts}
\usepackage{listings}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\lstset{
  basicstyle=\ttfamily\small,
  keywordstyle=\color{primaryColor}\bfseries,
  commentstyle=\color{green!50!black},
  stringstyle=\color{accentColor},
  frame=single,
  breaklines=true,
  backgroundcolor=\color{gray!5},
  literate={é}{{\'e}}1 {è}{{\`e}}1 {à}{{\`a}}1 {ç}{{\c{c}}}1 {œ}{{\oe}}1 {ù}{{\`u}}1 {É}{{\'E}}1 {È}{{\`E}}1 {À}{{\`A}}1 {Ç}{{\c{C}}}1 {Œ}{{\OE}}1 {Ù}{{\`U}}1
}


% Hyperlinks (Modern PDF settings)
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=primaryColor,
    filecolor=magenta,      
    urlcolor=primaryColor,
    citecolor=primaryColor,
    pdftitle={Memoire PFE},
    pdfpagemode=FullScreen,
}

% Bibliography
\usepackage[backend=biber,style=numeric,sorting=none]{biblatex}
\addbibresource{references.bib}

% ==========================================
%  Custom Styling (Design)
% ==========================================

% 1. Header & Footer Style
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\setlength{\headheight}{16pt} % Increased to silence warning
\lhead{\leftmark} % Chapter name on left
\rfoot{\thepage} % Page number on right bottom
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% 2. Chapter Title Style (Modern look)
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries\color{primaryColor}} % Format of label
  {\chaptertitlename\ \thechapter} % Label
  {20pt} % Separation
  {\Huge} % Format of title text
  [\vspace{1ex}\titlerule] % Line under title

% 3. Section Styling
\titleformat{\section}
  {\normalfont\Large\bfseries\color{secondaryColor}}
  {\thesection}{1em}{}

% ==========================================
%  Document Info
% ==========================================

\begin{document}

% ------------------------------------------
% Custom Title Page
% ------------------------------------------
\begin{titlepage}
    \begin{center}
        \vspace*{1cm}
        
        % University Placeholder (Uncomment/Edit if you have a logo)
        % \includegraphics[width=0.3\textwidth]{logo_universite.png}
        % \vspace{1.5cm}
        
        {\Large \textsc{[Nom de votre Université / École]}}
        \vspace{0.5cm}
        
        {\large Département d'Informatique}
        
        \vspace{2cm}
        
        {\Large \textbf{MÉMOIRE DE PROJET DE FIN D'ÉTUDES}} \\
        \vspace{0.5cm}
        For the degree of Engineering / Master
        
        \vspace{2cm}
        
        \rule{\linewidth}{0.5mm} \\[0.4cm]
        { \huge \bfseries \textcolor{primaryColor}{Système d'Extraction et de Gestion Intelligente des Factures Fournisseurs} \\[0.4cm] }
        \rule{\linewidth}{0.5mm} \\[2cm]
        
        \begin{minipage}{0.4\textwidth}
        \begin{flushleft} \large
        \emph{Réalisé par :}\\
        \textbf{Votre NOM}
        \end{flushleft}
        \end{minipage}
        \begin{minipage}{0.4\textwidth}
        \begin{flushright} \large
        \emph{Encadré par :} \\
        Prof. \text{Nom Encadrant}
        \end{flushright}
        \end{minipage}
        
        \vspace{3cm}
        
        {\large Année Universitaire : 2023 - 2024}
        
    \end{center}
\end{titlepage}

% ------------------------------------------
% Front Matter
% ------------------------------------------
\pagenumbering{roman} % Roman numerals for intro

% Abstract / Remerciements
\input{abstract}

\tableofcontents
\newpage

\listoffigures
\newpage

% ------------------------------------------
% Main Content
% ------------------------------------------
\pagenumbering{arabic} % Arabic numerals for chapters

% Using input for chapters (Modular structure)
\input{introduction}

\input{chapter1}
\input{chapter2}
\input{chapter3}
\input{chapter4}
\input{chapter5}

\input{conclusion}

% ------------------------------------------
% Back Matter
% ------------------------------------------
\printbibliography[heading=bibintoc, title={Bibliographie}]
% bibintoc adds bibliography to TOC

\end{document}
